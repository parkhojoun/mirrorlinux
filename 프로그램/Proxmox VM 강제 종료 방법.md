# Proxmox VM 강제 종료 방법

Proxmox에서 VM(가상 머신)을 강제 종료하는 방법들을 소개합니다. 

> **⚠️ 주의사항**  
> 강제 종료는 데이터 손실 위험이 있으므로, 가능한 한 정상적인 종료(`Shutdown`)를 먼저 시도하세요.

## 🖥️ 1. Proxmox Web GUI에서 강제 종료

1. Proxmox 웹 인터페이스에 접속
2. 좌측 VM 목록에서 대상 VM 선택
3. 상단의 **"Shutdown"** 옆 드롭다운(▼) 클릭
4. **"Stop"** 선택

> 💡 **참고**  
> 이는 `kill`에 가까운 강제 종료로, 전원 강제 차단과 유사합니다.

## ⌨️ 2. CLI (터미널)에서 강제 종료

### 방법 A: `qm stop` 명령어 사용

```bash
qm stop <VMID>
```

**예시:**
```bash
qm stop 101
```

> 📝 **설명**  
> 이는 강제 종료이며, 내부 OS에게는 종료 신호가 전달되지 않습니다.

### 방법 B: `kill` 명령어로 QEMU 프로세스 종료

**1단계: 실행 중인 VM 확인**
```bash
ps aux | grep kvm
```

**2단계: 종료할 VM의 PID 확인 후 강제 종료**
```bash
kill -9 <PID>
```

## ⚠️ 3. `systemctl`로 전체 QEMU 프로세스 종료 (권장하지 않음)

```bash
systemctl stop pve-qemu-kvm
```

> ❌ **경고**  
> 이 방법은 모든 VM에 영향을 줄 수 있으니 **특정 VM만 종료하려면 사용하지 마세요**.

## 📌 명령어 비교

| 명령어 | 동작 방식 | 설명 |
|--------|-----------|------|
| `qm shutdown <VMID>` | 정상 종료 | ACPI 신호를 전달하여 OS가 안전하게 종료 |
| `qm stop <VMID>` | 강제 종료 | ACPI를 무시하고 즉시 강제 종료 |

## 🎯 권장 절차

1. **1단계:** `qm shutdown <VMID>`로 정상 종료 시도
2. **2단계:** 응답이 없으면 몇 분 대기
3. **3단계:** 여전히 응답이 없으면 `qm stop <VMID>`로 강제 종료
4. **최후 수단:** QEMU 프로세스를 직접 `kill`로 종료

---

**💡 팁:** VM이 자주 멈춘다면 VM 설정이나 리소스 할당을 점검해보세요.
